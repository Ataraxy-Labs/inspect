<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Benchmarks | inspect</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <nav>
      <a class="logo" href="index.html">inspect</a>
      <div class="links">
        <a href="index.html">Home</a>
        <a href="benchmarks.html" class="active">Benchmarks</a>
        <a href="docs.html">Docs</a>
        <a href="changelog.html">Changelog</a>
        <a href="https://github.com/Ataraxy-Labs/inspect">GitHub</a>
        <a href="llms.txt">llms.txt</a>
      </div>
    </nav>

    <div style="padding: 48px 0 12px;">
      <h1 style="font-size: 28px; font-weight: 700; color: var(--accent); letter-spacing: -1px; margin-bottom: 12px;">Benchmarks</h1>
      <p style="font-size: 14px; color: var(--dim); line-height: 1.7; max-width: 600px;">
        inspect + LLM evaluated on the same benchmarks used to measure frontier code review tools. Entity-level triage focuses the LLM on the code that matters.
      </p>
    </div>

    <!-- Greptile Benchmark (primary) -->
    <section>
      <h2>Greptile Benchmark (141 planted bugs, 52 PRs, 5 repos)</h2>
      <p class="section-desc">
        <a href="https://huggingface.co/datasets/rs545837/inspect-greptile-bench" style="color:var(--cyan)">Dataset on HuggingFace</a>. 141 bugs planted across Sentry, Cal.com, Grafana, Keycloak, and Discourse by the Greptile team. Same heuristic keyword-matching judge applied identically to all three tools.
      </p>

      <div class="stat-cards">
        <div class="stat-card" style="border-color: var(--green);">
          <div class="stat-value" style="color: var(--green);">95.0%</div>
          <div class="stat-label">recall (inspect + GPT-5.2)</div>
          <div class="stat-detail">134 of 141 bugs found</div>
        </div>
        <div class="stat-card" style="border-color: var(--cyan);">
          <div class="stat-value" style="color: var(--cyan);">100%</div>
          <div class="stat-label">HC recall</div>
          <div class="stat-detail">every high/critical bug caught</div>
        </div>
        <div class="stat-card" style="border-color: var(--purple);">
          <div class="stat-value" style="color: var(--purple);">49.4%</div>
          <div class="stat-label">F1 score</div>
          <div class="stat-detail">+14pp over Greptile (35.3%)</div>
        </div>
      </div>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Tool</th>
              <th>Recall</th>
              <th>Precision</th>
              <th>F1</th>
              <th>HC Recall</th>
              <th>Findings</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong style="color:var(--accent)">inspect + GPT-5.2</strong></td>
              <td class="win">95.0%</td>
              <td>33.3%</td>
              <td>49.4%</td>
              <td class="win">100%</td>
              <td>402</td>
            </tr>
            <tr>
              <td>Greptile (API)</td>
              <td>91.5%</td>
              <td>21.9%</td>
              <td>35.3%</td>
              <td>94.1%</td>
              <td>590</td>
            </tr>
            <tr>
              <td>CodeRabbit (CLI)</td>
              <td>56.0%</td>
              <td class="win">48.2%</td>
              <td class="win">51.8%</td>
              <td>60.8%</td>
              <td>164</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="bench-group" style="margin-top: 24px;">
        <h3>Recall (all severities)</h3>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name"><strong style="color:var(--accent)">inspect + GPT-5.2</strong></span>
            <span class="value" style="color:var(--green)">95.0%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar inspect-bar" data-width="95">95.0%</div>
          </div>
        </div>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name">Greptile (API)</span>
            <span class="value">91.5%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar other-bar" data-width="91.5">91.5%</div>
          </div>
        </div>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name">CodeRabbit (CLI)</span>
            <span class="value">56.0%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar dim-bar" data-width="56">56.0%</div>
          </div>
        </div>
        <div class="bench-note">141 golden comments, 52 PRs, same judge</div>
      </div>

      <div class="bench-group" style="margin-top: 24px;">
        <h3>HC Recall (High + Critical only)</h3>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name"><strong style="color:var(--accent)">inspect + GPT-5.2</strong></span>
            <span class="value" style="color:var(--green)">100%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar inspect-bar" data-width="100">100%</div>
          </div>
        </div>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name">Greptile (API)</span>
            <span class="value">94.1%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar other-bar" data-width="94.1">94.1%</div>
          </div>
        </div>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name">CodeRabbit (CLI)</span>
            <span class="value">60.8%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar dim-bar" data-width="60.8">60.8%</div>
          </div>
        </div>
        <div class="bench-note">51 high/critical bugs. CodeRabbit misses 39% of them.</div>
      </div>

      <h3 style="font-size: 15px; color: var(--accent); margin: 24px 0 16px;">Per-severity recall</h3>
      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Severity</th>
              <th>inspect</th>
              <th>Greptile</th>
              <th>CodeRabbit</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Critical (n=9)</td>
              <td class="win">100%</td>
              <td class="win">100%</td>
              <td>55.6%</td>
            </tr>
            <tr>
              <td>High (n=42)</td>
              <td class="win">100%</td>
              <td>92.9%</td>
              <td>61.9%</td>
            </tr>
            <tr>
              <td>Medium (n=49)</td>
              <td class="win">91.8%</td>
              <td>87.8%</td>
              <td>61.2%</td>
            </tr>
            <tr>
              <td>Low (n=41)</td>
              <td class="win">92.7%</td>
              <td class="win">92.7%</td>
              <td>43.9%</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3 style="font-size: 15px; color: var(--accent); margin: 24px 0 16px;">Per-repo recall</h3>
      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Repo</th>
              <th>inspect</th>
              <th>Greptile</th>
              <th>CodeRabbit</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Cal.com (n=31)</td>
              <td>96.8%</td>
              <td class="win">100%</td>
              <td>77.4%</td>
            </tr>
            <tr>
              <td>Discourse (n=28)</td>
              <td class="win">100%</td>
              <td class="win">100%</td>
              <td>67.9%</td>
            </tr>
            <tr>
              <td>Grafana (n=22)</td>
              <td class="win">90.9%</td>
              <td class="win">90.9%</td>
              <td>36.4%</td>
            </tr>
            <tr>
              <td>Keycloak (n=26)</td>
              <td class="win">100%</td>
              <td>96.2%</td>
              <td>65.4%</td>
            </tr>
            <tr>
              <td>Sentry (n=34)</td>
              <td class="win">88.2%</td>
              <td>73.5%</td>
              <td>32.4%</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p style="font-size:12px;color:var(--dim2);margin-top:12px;line-height:1.7;">
        inspect + LLM reviews top 60 entities per PR (round-robin by file, sorted by risk score) + 5-file gap review for uncovered diff. Top 15 findings per PR by confidence. 10 concurrent LLM calls. Entity-level dedup (20-line window + identifier overlap). All tools judged with the same keyword-matching heuristic. Greptile via their production API. CodeRabbit via their free-tier CLI (rate limited, ~1 review per 8 min).
      </p>
    </section>

    <!-- AACR-Bench -->
    <section>
      <h2>AACR-Bench (166 golden comments, 20 PRs, 9 languages)</h2>
      <p class="section-desc">
        <a href="https://arxiv.org/abs/2601.19494" style="color:var(--cyan)">AACR-Bench</a> is the benchmark used to evaluate GPT-5.2, Claude 4.5 Sonnet, and other frontier LLMs for automated code review. We ran all three tools on 20 diverse PRs.
      </p>

      <div class="stat-cards">
        <div class="stat-card" style="border-color: var(--green);">
          <div class="stat-value" style="color: var(--green);">30.1%</div>
          <div class="stat-label">recall (inspect + GPT-5.2)</div>
          <div class="stat-detail">1.3x Greptile, 2.3x CodeRabbit</div>
        </div>
        <div class="stat-card" style="border-color: var(--cyan);">
          <div class="stat-value" style="color: var(--cyan);">22.7%</div>
          <div class="stat-label">precision</div>
          <div class="stat-detail">highest of all three tools</div>
        </div>
        <div class="stat-card" style="border-color: var(--purple);">
          <div class="stat-value" style="color: var(--purple);">25.9%</div>
          <div class="stat-label">F1 score</div>
          <div class="stat-detail">beats Greptile (22.5%) and CodeRabbit (23.8%)</div>
        </div>
      </div>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Tool</th>
              <th>Recall</th>
              <th>Precision</th>
              <th>F1</th>
              <th>Findings</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong style="color:var(--accent)">inspect + GPT-5.2</strong></td>
              <td class="win">30.1%</td>
              <td class="win">22.7%</td>
              <td class="win">25.9%</td>
              <td>220</td>
            </tr>
            <tr>
              <td>Greptile (API)</td>
              <td>23.5%</td>
              <td>21.7%</td>
              <td>22.5%</td>
              <td>180</td>
            </tr>
            <tr>
              <td>CodeRabbit (CLI)</td>
              <td>13.3%</td>
              <td>115.8%*</td>
              <td>23.8%</td>
              <td>19</td>
            </tr>
          </tbody>
        </table>
        <p style="font-size:11px;color:var(--dim2);margin-top:6px;">*CodeRabbit's precision exceeds 100% because multiple golden comments matched the same finding (19 findings caught 22 issues).</p>
      </div>

      <div class="bench-group" style="margin-top: 24px;">
        <h3>Recall comparison</h3>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name"><strong style="color:var(--accent)">inspect + GPT-5.2</strong></span>
            <span class="value" style="color:var(--green)">30.1%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar inspect-bar" data-width="30.1">30.1%</div>
          </div>
        </div>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name">Greptile (API)</span>
            <span class="value">23.5%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar other-bar" data-width="23.5">23.5%</div>
          </div>
        </div>
        <div class="bench-row">
          <div class="bench-label">
            <span class="name">CodeRabbit (CLI)</span>
            <span class="value">13.3%</span>
          </div>
          <div class="bench-bar-track">
            <div class="bench-bar dim-bar" data-width="13.3">13.3%</div>
          </div>
        </div>
        <div class="bench-note">20 PRs, 166 golden comments, same judge</div>
      </div>

      <p style="font-size:12px;color:var(--dim2);margin-top:8px;line-height:1.7;">
        20 diverse PRs from AACR-Bench (round-robin across repos). Same keyword-matching judge for all tools. Top 15 findings per PR by confidence.
      </p>
    </section>

    <!-- How it works -->
    <section>
      <h2>How it works</h2>
      <p class="section-desc">
        inspect runs entity-level triage locally (free, &lt;1s), then sends the top entities to an LLM for focused review. The LLM sees entity-scoped code with before/after context, not a raw diff.
      </p>

      <p style="font-size:13px;color:var(--dim);margin-top:20px;line-height:1.7;">
        <strong style="color:var(--fg)">The pipeline.</strong> Run inspect first (free, &lt;1s) to get entity risk rankings. Send top 30 entities to an LLM with before/after code + file diff. Gap-review uncovered files. Dedup and filter by confidence. Top 15 findings per PR. The triage step means the LLM sees focused code, not an entire diff.
      </p>
    </section>

    <!-- Speed -->
    <section>
      <h2>Speed</h2>
      <p class="section-desc">Entity extraction, dependency graph, change classification, risk scoring, commit untangling. All local, no API calls.</p>

      <h3 style="font-size: 15px; color: var(--accent); margin-bottom: 16px;">Single commit review</h3>
      <p style="font-size: 13px; color: var(--dim); margin-bottom: 16px; line-height: 1.7;">
        Time to run <code style="background:var(--surface);padding:2px 6px;border-radius:3px;font-size:12px;color:var(--cyan)">inspect diff HEAD~1</code> on a real commit. 30 runs via hyperfine, warm cache.
      </p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Repo</th>
              <th>Size</th>
              <th>Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>sem</td>
              <td>25 files, 65 entities changed</td>
              <td class="win">6ms</td>
            </tr>
            <tr>
              <td>weave</td>
              <td>80 files, 89 entities changed</td>
              <td class="win">6ms</td>
            </tr>
            <tr>
              <td>inspect</td>
              <td>50 files, large commit</td>
              <td class="win">67ms</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3 style="font-size: 15px; color: var(--accent); margin: 24px 0 16px;">Full repo history (inspect bench)</h3>
      <p style="font-size: 13px; color: var(--dim); margin-bottom: 16px; line-height: 1.7;">
        Time to analyze every commit in a repo's history: extract entities, build graph, classify changes, score risk, untangle.
      </p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Repo</th>
              <th>Commits</th>
              <th>Entities</th>
              <th>Wall time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>sem</td>
              <td>38</td>
              <td>5,216</td>
              <td class="win">0.57s</td>
            </tr>
            <tr>
              <td>weave</td>
              <td>45</td>
              <td>2,854</td>
              <td class="win">1.33s</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="bench-group" style="margin-top: 32px;">
        <h3>Single commit review time (visual)</h3>
        <div class="bench-row">
          <div class="bench-label"><span class="name">sem (25 files)</span><span class="value" style="color:var(--green)">6ms</span></div>
          <div class="bench-bar-track"><div class="bench-bar inspect-bar" data-width="9">6ms</div></div>
        </div>
        <div class="bench-row">
          <div class="bench-label"><span class="name">weave (80 files)</span><span class="value" style="color:var(--green)">6ms</span></div>
          <div class="bench-bar-track"><div class="bench-bar inspect-bar" data-width="9">6ms</div></div>
        </div>
        <div class="bench-row">
          <div class="bench-label"><span class="name">inspect (50 files)</span><span class="value" style="color:var(--green)">67ms</span></div>
          <div class="bench-bar-track"><div class="bench-bar inspect-bar" data-width="100">67ms</div></div>
        </div>
        <div class="bench-note">30 runs via hyperfine -N, warm cache</div>
      </div>

      <p style="font-size:13px;color:var(--dim);margin-top:20px;line-height:1.7;">
        Powered by <a href="https://ataraxy-labs.com/sem" style="color:var(--cyan)">sem-core</a> v0.3.0: xxHash64 structural hashing, parallel tree-sitter parsing via rayon, cached git tree resolution, LTO-optimized release builds.
      </p>
    </section>

    <footer>
      <p>Built by <a href="https://ataraxy-labs.com">Ataraxy Labs</a></p>
    </footer>
  </div>
  <script>
    // Animate bars when they scroll into view
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const bars = entry.target.querySelectorAll('.bench-bar[data-width]');
          bars.forEach((bar, i) => {
            setTimeout(() => {
              bar.style.width = bar.dataset.width + '%';
            }, i * 80);
          });
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.2 });

    document.querySelectorAll('.bench-group').forEach(group => {
      observer.observe(group);
    });
  </script>
</body>
</html>
