<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>inspect | Entity-Level Code Review for Git</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <nav>
      <a class="logo" href="index.html">inspect</a>
      <div class="links">
        <a href="index.html" class="active">Home</a>
        <a href="https://github.com/Ataraxy-Labs/inspect">GitHub</a>
        <a href="llms.txt">llms.txt</a>
      </div>
    </nav>

    <!-- Header -->
    <div style="padding: 48px 0 32px; text-align: center;">
      <h1 style="font-size: 36px; font-weight: 700; color: var(--accent); letter-spacing: -1.5px; margin-bottom: 12px;">Review what matters.</h1>
      <p style="font-size: 14px; color: var(--dim); margin-bottom: 24px; line-height: 1.7; max-width: 540px; margin-left: auto; margin-right: auto;">
        Entity-level code review for Git. Graph-based risk scoring identifies which functions need careful review. No LLM, no API key, runs locally in under a second.
      </p>
      <div class="install-box" onclick="copyCmd(this, 'cargo install --git https://github.com/Ataraxy-Labs/inspect inspect-cli')" style="display: inline-block; background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 10px 20px; font-size: 14px; color: var(--fg); cursor: pointer; position: relative;">
        <span class="copied" style="position: absolute; top: -28px; left: 50%; transform: translateX(-50%); font-size: 12px; color: var(--green); opacity: 0; transition: opacity 0.2s;">copied</span>
        <span style="color: var(--dim);">$</span> cargo install --git https://github.com/Ataraxy-Labs/inspect inspect-cli
      </div>
    </div>

    <!-- Terminal demo -->
    <div class="terminal">
      <div class="terminal-bar">
        <div class="terminal-dot"></div>
        <div class="terminal-dot"></div>
        <div class="terminal-dot"></div>
        <div class="terminal-title">~/project</div>
      </div>
      <div class="terminal-body">
<pre><span class="cmd">$ inspect diff HEAD~1</span>

<span class="w">inspect</span> 12 entities changed
  <span class="r">1 critical</span>, <span class="o">4 high</span>, <span class="y">3 medium</span>, <span class="d">4 low</span>

<span class="w">groups</span> 3 logical groups:
  <span class="d">[0]</span> src/merge/ <span class="d">(5 entities)</span>
  <span class="d">[1]</span> src/driver/ <span class="d">(4 entities)</span>
  <span class="d">[2]</span> validate <span class="d">(3 entities)</span>

<span class="w">entities</span> <span class="d">(by risk):</span>

  <span class="y">~</span> <span class="r">CRITICAL</span> <span class="d">function</span> <span class="w">merge_entities</span> <span class="d">(src/merge/core.rs)</span>
    classification: functional  score: 0.82  blast: 171  deps: 3/12
    <span class="c">public API</span>
    <span class="r">>>> 12 dependents may be affected</span>

  <span class="r">-</span> <span class="o">HIGH</span> <span class="d">function</span> <span class="w">old_validate</span> <span class="d">(src/validate.rs)</span>
    classification: functional  score: 0.65  blast: 8  deps: 0/3
    <span class="c">public API</span>

  <span class="g">+</span> <span class="y">MEDIUM</span> <span class="d">function</span> <span class="w">parse_config</span> <span class="d">(src/config.rs)</span>
    classification: functional  score: 0.32  blast: 0  deps: 2/0

  <span class="y">~</span> <span class="d">LOW</span> <span class="d">function</span> <span class="w">format_output</span> <span class="d">(src/display.rs)</span>
    classification: text  score: 0.02  blast: 0  deps: 0/0
    <span class="d">cosmetic only (no structural change)</span></pre>
      </div>
    </div>

    <!-- The Problem -->
    <section>
      <h2>The problem</h2>
      <p class="section-desc">
        <code style="background:var(--surface);padding:2px 6px;border-radius:3px;font-size:12px;color:var(--cyan)">git diff</code> says 12 files changed. But which changes actually matter? A renamed variable, a reformatted function, and a deleted public API method all look the same in a line-level diff.
      </p>
      <p style="font-size: 14px; color: var(--dim); line-height: 1.7;">
        This gets worse with AI-generated code. DORA 2025 found that AI adoption led to <strong style="color:var(--accent)">+154% PR size</strong>, <strong style="color:var(--accent)">+91% review time</strong>, and <strong style="color:var(--accent)">+9% more bugs shipped</strong>. Reviewers are drowning in noise. inspect works at the entity level: functions, structs, traits, classes. It uses the dependency graph to identify which changes have real impact.
      </p>
    </section>

    <!-- How it works -->
    <section>
      <h2>How it works</h2>
      <p class="section-desc">Four phases. No LLM, no network calls, all local.</p>

      <div class="phase-cards">
        <div class="phase-card" style="border-color: var(--green);">
          <div class="tag" style="background: #4ade8022; color: var(--green);">EXTRACT</div>
          <h3>Parse</h3>
          <p>tree-sitter extracts entities from all tracked source files. Builds a full-repo dependency graph via call/reference analysis.</p>
        </div>
        <div class="phase-card" style="border-color: var(--cyan);">
          <div class="tag" style="background: #22d3ee22; color: var(--cyan);">CLASSIFY</div>
          <h3>Categorize</h3>
          <p>Compare before/after. Classify each change as text (comments), syntax (signatures), functional (logic), or a combination.</p>
        </div>
        <div class="phase-card" style="border-color: var(--yellow);">
          <div class="tag" style="background: #facc1522; color: var(--yellow);">SCORE</div>
          <h3>Risk</h3>
          <p>Graph-centric scoring. Dependents and blast radius are the primary signals. Public API, classification, and change type set the baseline.</p>
        </div>
        <div class="phase-card" style="border-color: var(--purple);">
          <div class="tag" style="background: #a78bfa22; color: var(--purple);">GROUP</div>
          <h3>Untangle</h3>
          <p>Union-Find on dependency edges between changed entities. Separates independent logical changes within tangled commits.</p>
        </div>
      </div>
    </section>

    <!-- Industry Comparison -->
    <section>
      <h2>vs industry tools</h2>
      <p class="section-desc">
        Evaluated on <a href="https://arxiv.org/abs/2601.19494" style="color:var(--cyan)">AACR-Bench</a> (Alibaba), the same benchmark used to evaluate GPT-5.2, Claude 4.5 Sonnet, and other frontier LLMs. 158 PRs, 1,169 ground truth issues from human reviewers, 50 open-source repos, 10 languages.
      </p>

      <div class="stat-cards">
        <div class="stat-card" style="border-color: var(--green);">
          <div class="stat-value" style="color: var(--green);">48%</div>
          <div class="stat-label">recall (HC only)</div>
          <div class="stat-detail">reviewing 9.5% of the diff</div>
        </div>
        <div class="stat-card" style="border-color: var(--cyan);">
          <div class="stat-value" style="color: var(--cyan);">78%</div>
          <div class="stat-label">recall (HC + Medium)</div>
          <div class="stat-detail">reviewing 19% of the diff</div>
        </div>
        <div class="stat-card" style="border-color: var(--purple);">
          <div class="stat-value" style="color: var(--purple);">82%</div>
          <div class="stat-label">total coverage</div>
          <div class="stat-detail">issues within any changed entity</div>
        </div>
      </div>

      <h3 style="font-size: 15px; color: var(--accent); margin-bottom: 16px;">Recall: fraction of real issues identified</h3>
      <p style="font-size: 13px; color: var(--dim); margin-bottom: 16px; line-height: 1.7;">
        Same benchmark, same ground truth. inspect uses graph-based risk scoring (no LLM). The AACR-Bench tools use frontier LLMs to generate review comments. Recall measures what fraction of real issues each tool identifies.
      </p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Tool</th>
              <th>Approach</th>
              <th>Recall</th>
              <th>Cost</th>
              <th>Speed</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong style="color:var(--accent)">inspect</strong> (HC+M)</td>
              <td>graph-based triage</td>
              <td class="win">78.2%</td>
              <td class="win">free</td>
              <td class="win">&lt;1s</td>
            </tr>
            <tr>
              <td><strong style="color:var(--accent)">inspect</strong> (HC only)</td>
              <td>graph-based triage</td>
              <td class="win">48.3%</td>
              <td class="win">free</td>
              <td class="win">&lt;1s</td>
            </tr>
            <tr>
              <td>GPT-5.2</td>
              <td>LLM, no context</td>
              <td>47.1%</td>
              <td>$$</td>
              <td>30-60s</td>
            </tr>
            <tr>
              <td>Qwen-480B-Coder</td>
              <td>LLM, BM25 retrieval</td>
              <td>45.9%</td>
              <td>$$</td>
              <td>30-60s</td>
            </tr>
            <tr>
              <td>Claude 4.5 Sonnet</td>
              <td>LLM, embedding</td>
              <td>42.9%</td>
              <td>$$</td>
              <td>30-60s</td>
            </tr>
            <tr>
              <td>GLM-4.7</td>
              <td>LLM, no context</td>
              <td>27.6%</td>
              <td>$$</td>
              <td>30-60s</td>
            </tr>
            <tr>
              <td>Claude 4.5 Sonnet</td>
              <td>LLM, agent</td>
              <td class="lose">10.1%</td>
              <td>$$$</td>
              <td>2-5min</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p style="font-size:13px;color:var(--dim);margin-top:20px;line-height:1.7;">
        <strong style="color:var(--fg)">Different paradigm, same benchmark.</strong> LLM tools generate specific review comments with high precision but low recall (the best catches 47% of issues). inspect identifies which entities need review. It catches 78% of issues by flagging 19% of the diff as Medium risk or above. The approaches are complementary: use inspect to prioritize, then use an LLM to review the flagged entities.
      </p>

      <h3 style="font-size: 15px; color: var(--accent); margin: 32px 0 16px;">Catch rate comparison (Greptile benchmark)</h3>
      <p style="font-size: 13px; color: var(--dim); margin-bottom: 16px; line-height: 1.7;">
        <a href="https://www.greptile.com/benchmarks" style="color:var(--cyan)">Greptile's benchmark</a> (50 bugs, 5 repos) measures whether tools surface known bugs. inspect's coverage (82%) is comparable to Greptile's catch rate (82%) on a larger, more diverse dataset.
      </p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Tool</th>
              <th>Catch Rate</th>
              <th>Dataset</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong style="color:var(--accent)">inspect</strong></td>
              <td class="win">82% coverage</td>
              <td>158 PRs, 50 repos (AACR-Bench)</td>
            </tr>
            <tr>
              <td>Greptile</td>
              <td>82%</td>
              <td>50 bugs, 5 repos</td>
            </tr>
            <tr>
              <td>Cursor</td>
              <td>58%</td>
              <td>50 bugs, 5 repos</td>
            </tr>
            <tr>
              <td>GitHub Copilot</td>
              <td>54%</td>
              <td>50 bugs, 5 repos</td>
            </tr>
            <tr>
              <td>CodeRabbit</td>
              <td>44%</td>
              <td>50 bugs, 5 repos</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p style="font-size:12px;color:var(--dim2);margin-top:12px;line-height:1.7;">
        Note: Different benchmarks use different evaluation criteria. AACR-Bench uses line-overlap matching against expert-written ground truth. Greptile uses manually verified bug detection. Numbers are not directly comparable across benchmarks.
      </p>
    </section>

    <!-- Per-language results -->
    <section>
      <h2>Per-language results</h2>
      <p class="section-desc">HC recall = fraction of ground truth issues within High/Critical entities. 158 PRs across 50 open-source repos.</p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Language</th>
              <th>PRs</th>
              <th>HC Recall</th>
              <th>Coverage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>C#</td>
              <td>10</td>
              <td class="win">78%</td>
              <td class="win">82%</td>
            </tr>
            <tr>
              <td>TypeScript</td>
              <td>29</td>
              <td class="win">70%</td>
              <td>79%</td>
            </tr>
            <tr>
              <td>Java</td>
              <td>16</td>
              <td class="win">62%</td>
              <td class="win">89%</td>
            </tr>
            <tr>
              <td>Python</td>
              <td>21</td>
              <td>53%</td>
              <td class="win">95%</td>
            </tr>
            <tr>
              <td>Go</td>
              <td>22</td>
              <td>47%</td>
              <td class="win">88%</td>
            </tr>
            <tr>
              <td>PHP</td>
              <td>10</td>
              <td>40%</td>
              <td>80%</td>
            </tr>
            <tr>
              <td>Rust</td>
              <td>10</td>
              <td>36%</td>
              <td>73%</td>
            </tr>
            <tr>
              <td>JavaScript</td>
              <td>11</td>
              <td>20%</td>
              <td class="win">83%</td>
            </tr>
            <tr>
              <td>C++</td>
              <td>10</td>
              <td class="lose">19%</td>
              <td class="lose">46%</td>
            </tr>
            <tr>
              <td>C</td>
              <td>19</td>
              <td class="lose">16%</td>
              <td>73%</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p style="font-size:13px;color:var(--dim);margin-top:16px;line-height:1.7;">
        158 PRs evaluated. 38 skipped due to timeouts on very large codebases (FreeCAD, ClickHouse, elasticsearch) or parse limitations.
        Coverage = fraction of issues within any changed entity. Higher coverage with lower HC recall means the issue is in a Medium/Low entity.
      </p>
    </section>

    <!-- Change Classification -->
    <section>
      <h2>Change classification</h2>
      <p class="section-desc">
        Based on <a href="https://arxiv.org/abs/2409.14121" style="color:var(--cyan)">ConGra (arXiv:2409.14121)</a>. Every change is classified along three dimensions: text, syntax, and functional.
      </p>
      <table>
        <thead>
          <tr><th>Classification</th><th>What changed</th><th>Review needed?</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><span style="color:var(--green)">Text</span></td>
            <td>Comments, whitespace, docs only</td>
            <td class="lose">usually skip</td>
          </tr>
          <tr>
            <td><span style="color:var(--cyan)">Syntax</span></td>
            <td>Signatures, types, declarations (no logic)</td>
            <td class="mid">check API surface</td>
          </tr>
          <tr>
            <td><span style="color:var(--red)">Functional</span></td>
            <td>Logic or behavior</td>
            <td class="high">careful review</td>
          </tr>
          <tr>
            <td><span style="color:var(--fg)">Mixed</span></td>
            <td>Combinations of the above</td>
            <td class="high">careful review</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Risk Scoring -->
    <section>
      <h2>Risk scoring</h2>
      <p class="section-desc">Graph-centric. Dependents and blast radius are the primary discriminators. Entities at the center of the dependency graph score highest. Cosmetic-only changes get an 80% discount.</p>

      <div class="flow">
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--red);color:var(--red)">1</div>
          <div class="flow-content">
            <div class="title">Dependent count (primary)</div>
            <div class="desc">How many other entities call or reference this one. Logarithmic scale. An entity with 10 dependents scores significantly higher than one with 0.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--orange);color:var(--orange)">2</div>
          <div class="flow-content">
            <div class="title">Blast radius (primary)</div>
            <div class="desc">Transitive impact via BFS through the dependency graph. Normalized by repo size, sqrt-scaled.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--green);color:var(--green)">3</div>
          <div class="flow-content">
            <div class="title">Classification</div>
            <div class="desc">Functional changes score higher than syntax changes, which score higher than text-only changes.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--cyan);color:var(--cyan)">4</div>
          <div class="flow-content">
            <div class="title">Public API</div>
            <div class="desc">Exported functions, pub methods, capitalized Go/Java names. Changes to public surface area are riskier.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--purple);color:var(--purple)">5</div>
          <div class="flow-content">
            <div class="title">Change type</div>
            <div class="desc">Deletions and modifications score higher than additions. Cosmetic changes (structural hash unchanged) get an 80% discount.</div>
          </div>
        </div>
      </div>

      <p style="font-size:13px;color:var(--dim);margin-top:24px;line-height:1.7;">
        Risk levels: <span style="color:var(--red);font-weight:600">Critical</span> (&gt;= 0.7) &middot; <span style="color:var(--orange);font-weight:600">High</span> (&gt;= 0.5) &middot; <span style="color:var(--yellow);font-weight:600">Medium</span> (&gt;= 0.3) &middot; <span style="color:var(--dim)">Low</span> (&lt; 0.3)
      </p>
    </section>

    <!-- Commands -->
    <section>
      <h2>Commands</h2>
      <p class="section-desc">All commands support <code style="color:var(--cyan);background:var(--surface);padding:2px 6px;border-radius:3px;font-size:12px;">--format json</code> for machine-readable output.</p>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect diff &lt;ref&gt;</span>
          <span class="cmd-doc-desc">Review entity-level changes for a commit or range</span>
        </div>
        <div class="cmd-doc-flags">
          <div class="flag"><code>--context</code> <span>Show dependency details for each entity</span></div>
          <div class="flag"><code>--min-risk &lt;level&gt;</code> <span>Filter by minimum risk (low, medium, high, critical)</span></div>
          <div class="flag"><code>--format &lt;fmt&gt;</code> <span>terminal (default) or json</span></div>
        </div>
      </div>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect pr &lt;number&gt;</span>
          <span class="cmd-doc-desc">Review all changes in a GitHub pull request</span>
        </div>
      </div>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect file &lt;path&gt;</span>
          <span class="cmd-doc-desc">Review uncommitted changes in a specific file</span>
        </div>
      </div>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect bench --repo &lt;path&gt;</span>
          <span class="cmd-doc-desc">Benchmark entity-level review across a repo's commit history</span>
        </div>
      </div>
    </section>

    <!-- Languages -->
    <section>
      <h2>13 languages</h2>
      <p class="section-desc">Entity extraction powered by <a href="https://github.com/Ataraxy-Labs/sem" style="color:var(--green)">sem-core</a> and tree-sitter. All parsers compiled into the binary.</p>
      <table>
        <thead>
          <tr><th>Language</th><th>Extensions</th><th>Entities</th></tr>
        </thead>
        <tbody>
          <tr><td>Rust</td><td>.rs</td><td>functions, structs, enums, impls, traits</td></tr>
          <tr><td>TypeScript</td><td>.ts .tsx</td><td>functions, classes, interfaces, types, enums</td></tr>
          <tr><td>JavaScript</td><td>.js .jsx .mjs .cjs</td><td>functions, classes, variables</td></tr>
          <tr><td>Python</td><td>.py</td><td>functions, classes, decorators</td></tr>
          <tr><td>Go</td><td>.go</td><td>functions, methods, types</td></tr>
          <tr><td>Java</td><td>.java</td><td>classes, methods, interfaces, enums, fields</td></tr>
          <tr><td>C</td><td>.c .h</td><td>functions, structs, enums, unions, typedefs</td></tr>
          <tr><td>C++</td><td>.cpp .cc .cxx .hpp</td><td>functions, classes, structs, enums, namespaces</td></tr>
          <tr><td>Ruby</td><td>.rb</td><td>methods, classes, modules</td></tr>
          <tr><td>C#</td><td>.cs</td><td>methods, classes, interfaces, enums, structs</td></tr>
          <tr><td>PHP</td><td>.php</td><td>functions, classes, methods, interfaces, traits, enums</td></tr>
          <tr><td>Fortran</td><td>.f90 .f95 .f03 .f08</td><td>functions, subroutines, modules, programs</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Part of the stack -->
    <section>
      <h2>Part of the Ataraxy Labs stack</h2>
      <p class="section-desc">Three tools, same foundation: sem-core's entity extraction and structural hashing.</p>

      <div class="phase-cards" style="grid-template-columns: 1fr 1fr 1fr;">
        <div class="phase-card" style="border-color: var(--green);">
          <h3><a href="https://github.com/Ataraxy-Labs/sem" style="color:var(--green)">sem</a></h3>
          <p>Understand code history. What changed, who changed it, what depends on it, what might break.</p>
        </div>
        <div class="phase-card" style="border-color: var(--cyan);">
          <h3><a href="https://github.com/Ataraxy-Labs/weave" style="color:var(--cyan)">weave</a></h3>
          <p>Merge without false conflicts. 31/31 clean merges on concurrent edit scenarios vs Git's 15/31.</p>
        </div>
        <div class="phase-card" style="border-color: var(--orange);">
          <h3>inspect</h3>
          <p>Review what matters. Graph-based risk scoring, change classification, commit untangling.</p>
        </div>
      </div>
    </section>

    <footer>
      <p>Built by <a href="https://ataraxy-labs.com">Ataraxy Labs</a></p>
    </footer>
  </div>

  <script>
    function copyCmd(el, cmd) {
      navigator.clipboard.writeText(cmd);
      let copied = el.querySelector('.copied');
      if (copied) {
        copied.classList.add('show');
        setTimeout(() => copied.classList.remove('show'), 1500);
      }
    }
  </script>
</body>
</html>
