<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>inspect — Entity-Level Code Review for Git</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <nav>
      <a class="logo" href="index.html">inspect</a>
      <div class="links">
        <a href="index.html" class="active">Home</a>
        <a href="https://github.com/Ataraxy-Labs/inspect">GitHub</a>
        <a href="llms.txt">llms.txt</a>
      </div>
    </nav>

    <!-- Header -->
    <div style="padding: 48px 0 32px; text-align: center;">
      <h1 style="font-size: 36px; font-weight: 700; color: var(--accent); letter-spacing: -1.5px; margin-bottom: 12px;">Review what matters.</h1>
      <p style="font-size: 14px; color: var(--dim); margin-bottom: 24px; line-height: 1.7; max-width: 540px; margin-left: auto; margin-right: auto;">
        Entity-level code review for Git. Review 16% of entities, catch 72% of real issues. Tested on 145 PRs across 50 open-source repos.
      </p>
      <div class="install-box" onclick="copyCmd(this, 'cargo install --git https://github.com/Ataraxy-Labs/inspect inspect-cli')" style="display: inline-block; background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 10px 20px; font-size: 14px; color: var(--fg); cursor: pointer; position: relative;">
        <span class="copied" style="position: absolute; top: -28px; left: 50%; transform: translateX(-50%); font-size: 12px; color: var(--green); opacity: 0; transition: opacity 0.2s;">copied</span>
        <span style="color: var(--dim);">$</span> cargo install --git https://github.com/Ataraxy-Labs/inspect inspect-cli
      </div>
    </div>

    <!-- Terminal demo -->
    <div class="terminal">
      <div class="terminal-bar">
        <div class="terminal-dot"></div>
        <div class="terminal-dot"></div>
        <div class="terminal-dot"></div>
        <div class="terminal-title">~/project</div>
      </div>
      <div class="terminal-body">
<pre><span class="cmd">$ inspect diff HEAD~1</span>

<span class="w">inspect</span> 12 entities changed
  <span class="r">1 critical</span>, <span class="o">4 high</span>, <span class="y">6 medium</span>, <span class="d">1 low</span>

<span class="w">groups</span> 3 logical groups:
  <span class="d">[0]</span> src/merge/ <span class="d">(5 entities)</span>
  <span class="d">[1]</span> src/driver/ <span class="d">(4 entities)</span>
  <span class="d">[2]</span> validate <span class="d">(3 entities)</span>

<span class="w">entities</span> <span class="d">(by risk):</span>

  <span class="y">~</span> <span class="r">CRITICAL</span> <span class="d">function</span> <span class="w">merge_entities</span> <span class="d">(src/merge/core.rs)</span>
    classification: functional  score: 0.82  blast: 171  deps: 3/12
    <span class="c">public API</span>
    <span class="r">>>> 12 dependents may be affected</span>

  <span class="r">-</span> <span class="o">HIGH</span> <span class="d">function</span> <span class="w">old_validate</span> <span class="d">(src/validate.rs)</span>
    classification: functional  score: 0.65  blast: 8  deps: 0/3
    <span class="c">public API</span>

  <span class="g">+</span> <span class="y">MEDIUM</span> <span class="d">function</span> <span class="w">parse_config</span> <span class="d">(src/config.rs)</span>
    classification: functional  score: 0.45  blast: 0  deps: 2/0

  <span class="y">~</span> <span class="d">LOW</span> <span class="d">function</span> <span class="w">format_output</span> <span class="d">(src/display.rs)</span>
    classification: text  score: 0.05  blast: 0  deps: 0/0
    <span class="d">cosmetic only (no structural change)</span></pre>
      </div>
    </div>

    <!-- The Problem -->
    <section>
      <h2>The problem</h2>
      <p class="section-desc">
        <code style="background:var(--surface);padding:2px 6px;border-radius:3px;font-size:12px;color:var(--cyan)">git diff</code> says 12 files changed. But which changes actually matter? A renamed variable, a reformatted function, and a deleted public API method all look the same in a line-level diff. You have to read every line to figure out what needs careful review and what can be skipped.
      </p>
      <p style="font-size: 14px; color: var(--dim); line-height: 1.7;">
        This gets worse with AI-generated code. DORA 2025 found that AI adoption led to <strong style="color:var(--accent)">+154% PR size</strong>, <strong style="color:var(--accent)">+91% review time</strong>, and <strong style="color:var(--accent)">+9% more bugs shipped</strong>. Reviewers are drowning in noise. Every existing code review tool (CodeRabbit, Qodo, SonarQube) works at the file or line level. inspect works at the entity level: functions, structs, traits, classes.
      </p>
    </section>

    <!-- How it works -->
    <section>
      <h2>How it works</h2>
      <p class="section-desc">Four phases, each building on the last.</p>

      <div class="phase-cards">
        <div class="phase-card" style="border-color: var(--green);">
          <div class="tag" style="background: #4ade8022; color: var(--green);">EXTRACT</div>
          <h3>Parse</h3>
          <p>tree-sitter extracts functions, structs, classes, traits from all tracked source files. Builds a full-repo dependency graph.</p>
        </div>
        <div class="phase-card" style="border-color: var(--cyan);">
          <div class="tag" style="background: #22d3ee22; color: var(--cyan);">CLASSIFY</div>
          <h3>Categorize</h3>
          <p>Compare before/after line by line. Classify each change as text (comments), syntax (signatures), functional (logic), or a combination.</p>
        </div>
        <div class="phase-card" style="border-color: var(--yellow);">
          <div class="tag" style="background: #facc1522; color: var(--yellow);">SCORE</div>
          <h3>Risk</h3>
          <p>Compute risk from classification, blast radius, dependent count, public API exposure, and change type. Cosmetic changes get a 70% discount.</p>
        </div>
        <div class="phase-card" style="border-color: var(--purple);">
          <div class="tag" style="background: #a78bfa22; color: var(--purple);">GROUP</div>
          <h3>Untangle</h3>
          <p>Union-Find on dependency edges between changed entities. Each group can be reviewed independently.</p>
        </div>
      </div>
    </section>

    <!-- AACR-Bench -->
    <section>
      <h2>AACR-Bench: 145 PRs, 1,047 issues, 50 repos</h2>
      <p class="section-desc">Evaluated on <a href="https://github.com/Alibaba-NLP/AACR-Bench" style="color:var(--cyan)">AACR-Bench</a>, Alibaba's code review benchmark with ground-truth issues from human reviewers. The question: if you only review the entities inspect marks as High/Critical risk, how many real issues do you catch?</p>

      <div class="stat-cards">
        <div class="stat-card" style="border-color: var(--green);">
          <div class="stat-value" style="color: var(--green);">72%</div>
          <div class="stat-label">issues caught</div>
          <div class="stat-detail">reviewing only High/Critical entities</div>
        </div>
        <div class="stat-card" style="border-color: var(--cyan);">
          <div class="stat-value" style="color: var(--cyan);">16%</div>
          <div class="stat-label">entities reviewed</div>
          <div class="stat-detail">of all changed entities in a PR</div>
        </div>
        <div class="stat-card" style="border-color: var(--purple);">
          <div class="stat-value" style="color: var(--purple);">83%</div>
          <div class="stat-label">with Medium included</div>
          <div class="stat-detail">High + Critical + Medium catch rate</div>
        </div>
      </div>

      <p style="font-size:14px;color:var(--fg);margin-bottom:20px;line-height:1.7;">
        <strong style="color:var(--accent)">Review 16% of entities, catch 72% of issues.</strong> Adding Medium-risk entities brings it to 83%. Entity coverage (issues within any changed entity) is 79%.
      </p>

      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Language</th>
              <th>PRs</th>
              <th>Entities</th>
              <th>HC Catch Rate</th>
              <th>Coverage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Python</td>
              <td>21</td>
              <td>99,480</td>
              <td class="win">89%</td>
              <td class="win">95%</td>
            </tr>
            <tr>
              <td>Java</td>
              <td>10</td>
              <td>60,696</td>
              <td class="win">88%</td>
              <td class="win">93%</td>
            </tr>
            <tr>
              <td>Rust</td>
              <td>7</td>
              <td>13,351</td>
              <td class="win">86%</td>
              <td class="win">88%</td>
            </tr>
            <tr>
              <td>TypeScript</td>
              <td>27</td>
              <td>600,349</td>
              <td class="win">83%</td>
              <td class="win">86%</td>
            </tr>
            <tr>
              <td>C#</td>
              <td>9</td>
              <td>22,055</td>
              <td class="win">81%</td>
              <td>81%</td>
            </tr>
            <tr>
              <td>Go</td>
              <td>21</td>
              <td>56,825</td>
              <td>79%</td>
              <td>79%</td>
            </tr>
            <tr>
              <td>C</td>
              <td>19</td>
              <td>49,496</td>
              <td>62%</td>
              <td>73%</td>
            </tr>
            <tr>
              <td>JavaScript</td>
              <td>10</td>
              <td>34,748</td>
              <td>56%</td>
              <td>82%</td>
            </tr>
            <tr>
              <td>C++</td>
              <td>10</td>
              <td>51,043</td>
              <td class="lose">40%</td>
              <td class="lose">46%</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p style="font-size:13px;color:var(--dim);margin-top:16px;line-height:1.7;">
        145 PRs evaluated across 50 open-source repos (React, Svelte, ollama, uv, vllm, bitcoin, n8n, ComfyUI, and more).
        51 PRs skipped due to timeout on very large repos (elasticsearch, FreeCAD) or C++ parse limitations (ClickHouse).
        HC Catch Rate = % of ground truth issues within High/Critical entities.
        Coverage = % of issues within any changed entity.
      </p>
    </section>

    <!-- Change Classification -->
    <section>
      <h2>Change classification</h2>
      <p class="section-desc">
        Based on <a href="https://arxiv.org/abs/2409.14121" style="color:var(--cyan)">ConGra (arXiv:2409.14121)</a>. Every change is classified along three dimensions: text, syntax, and functional. This produces 7 possible categories.
      </p>
      <table>
        <thead>
          <tr><th>Classification</th><th>What changed</th><th>Review needed?</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><span style="color:var(--green)">Text</span></td>
            <td>Comments, whitespace, docs only</td>
            <td class="lose">usually skip</td>
          </tr>
          <tr>
            <td><span style="color:var(--cyan)">Syntax</span></td>
            <td>Signatures, types, declarations (no logic)</td>
            <td class="mid">check API surface</td>
          </tr>
          <tr>
            <td><span style="color:var(--red)">Functional</span></td>
            <td>Logic or behavior</td>
            <td class="high">careful review</td>
          </tr>
          <tr>
            <td><span style="color:var(--fg)">Text+Syntax</span></td>
            <td>Comments and signatures changed</td>
            <td class="mid">check API surface</td>
          </tr>
          <tr>
            <td><span style="color:var(--fg)">Text+Functional</span></td>
            <td>Comments and logic changed</td>
            <td class="high">careful review</td>
          </tr>
          <tr>
            <td><span style="color:var(--fg)">Syntax+Functional</span></td>
            <td>Signatures and logic changed</td>
            <td class="high">careful review</td>
          </tr>
          <tr>
            <td><span style="color:var(--orange)">Text+Syntax+Functional</span></td>
            <td>All three dimensions</td>
            <td class="high">careful review</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Risk Scoring -->
    <section>
      <h2>Risk scoring</h2>
      <p class="section-desc">Each entity gets a risk score from 0.0 to 1.0 combining five signals. Cosmetic-only changes (structural hash unchanged) get a 70% discount.</p>

      <div class="flow">
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--green);color:var(--green)">1</div>
          <div class="flow-content">
            <div class="title">Classification weight</div>
            <div class="desc">Text changes score 0.05, syntax 0.2, functional 0.4, mixed changes up to 0.55.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--red);color:var(--red)">2</div>
          <div class="flow-content">
            <div class="title">Blast radius</div>
            <div class="desc">Transitive impact normalized by total entity count, weighted at 0.3. An entity affecting 100 of 500 entities scores 0.06.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--orange);color:var(--orange)">3</div>
          <div class="flow-content">
            <div class="title">Dependent count</div>
            <div class="desc">Logarithmic scale, weighted at 0.1. More dependents means more risk, but diminishing returns after ~10.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--cyan);color:var(--cyan)">4</div>
          <div class="flow-content">
            <div class="title">Public API</div>
            <div class="desc">Exported functions, pub methods, capitalized Go/Java names get a 0.15 boost.</div>
          </div>
        </div>
        <div class="flow-connector"><div class="line"></div></div>
        <div class="flow-step">
          <div class="flow-num" style="border-color:var(--purple);color:var(--purple)">5</div>
          <div class="flow-content">
            <div class="title">Change type</div>
            <div class="desc">Deletions score highest (0.2), modifications and renames (0.1), additions lowest (0.05).</div>
          </div>
        </div>
      </div>

      <p style="font-size:13px;color:var(--dim);margin-top:24px;line-height:1.7;">
        Risk levels: <span style="color:var(--red);font-weight:600">Critical</span> (&gt;= 0.7) · <span style="color:var(--orange);font-weight:600">High</span> (&gt;= 0.5) · <span style="color:var(--yellow);font-weight:600">Medium</span> (&gt;= 0.3) · <span style="color:var(--dim)">Low</span> (&lt; 0.3)
      </p>
    </section>

    <!-- Commands -->
    <section>
      <h2>Commands</h2>
      <p class="section-desc">All commands support <code style="color:var(--cyan);background:var(--surface);padding:2px 6px;border-radius:3px;font-size:12px;">--format json</code> for machine-readable output.</p>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect diff &lt;ref&gt;</span>
          <span class="cmd-doc-desc">Review entity-level changes for a commit or range</span>
        </div>
        <div class="cmd-doc-flags">
          <div class="flag"><code>--context</code> <span>Show dependency details for each entity</span></div>
          <div class="flag"><code>--min-risk &lt;level&gt;</code> <span>Filter by minimum risk (low, medium, high, critical)</span></div>
          <div class="flag"><code>--format &lt;fmt&gt;</code> <span>terminal (default) or json</span></div>
        </div>
      </div>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect pr &lt;number&gt;</span>
          <span class="cmd-doc-desc">Review all changes in a GitHub pull request</span>
        </div>
        <div class="cmd-doc-flags">
          <div class="flag"><code>--min-risk &lt;level&gt;</code> <span>Filter by minimum risk</span></div>
          <div class="flag"><code>--format &lt;fmt&gt;</code> <span>terminal or json</span></div>
        </div>
      </div>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect file &lt;path&gt;</span>
          <span class="cmd-doc-desc">Review uncommitted changes in a specific file</span>
        </div>
        <div class="cmd-doc-flags">
          <div class="flag"><code>--context</code> <span>Show dependency details</span></div>
        </div>
      </div>

      <div class="cmd-doc">
        <div class="cmd-doc-header">
          <span class="cmd-doc-name">inspect bench --repo &lt;path&gt;</span>
          <span class="cmd-doc-desc">Benchmark entity-level review across a repo's commit history</span>
        </div>
        <div class="cmd-doc-flags">
          <div class="flag"><code>--limit &lt;n&gt;</code> <span>Limit number of commits to analyze</span></div>
        </div>
      </div>
    </section>

    <!-- Languages -->
    <section>
      <h2>Supported languages</h2>
      <p class="section-desc">Entity extraction powered by <a href="https://github.com/Ataraxy-Labs/sem" style="color:var(--green)">sem-core</a> and tree-sitter. All parsers compiled into the binary.</p>
      <table>
        <thead>
          <tr><th>Language</th><th>Extensions</th><th>Entities</th></tr>
        </thead>
        <tbody>
          <tr><td>Rust</td><td>.rs</td><td>functions, structs, enums, impls, traits</td></tr>
          <tr><td>TypeScript</td><td>.ts .tsx</td><td>functions, classes, interfaces, types, enums</td></tr>
          <tr><td>JavaScript</td><td>.js .jsx .mjs .cjs</td><td>functions, classes, variables</td></tr>
          <tr><td>Python</td><td>.py</td><td>functions, classes, decorators</td></tr>
          <tr><td>Go</td><td>.go</td><td>functions, methods, types</td></tr>
          <tr><td>Java</td><td>.java</td><td>classes, methods, interfaces, enums, fields</td></tr>
          <tr><td>C</td><td>.c .h</td><td>functions, structs, enums, unions, typedefs</td></tr>
          <tr><td>C++</td><td>.cpp .cc .cxx .hpp</td><td>functions, classes, structs, enums, namespaces</td></tr>
          <tr><td>Ruby</td><td>.rb</td><td>methods, classes, modules</td></tr>
          <tr><td>C#</td><td>.cs</td><td>methods, classes, interfaces, enums, structs</td></tr>
          <tr><td>PHP</td><td>.php</td><td>functions, classes, methods, interfaces, traits, enums</td></tr>
          <tr><td>Fortran</td><td>.f90 .f95 .f03 .f08</td><td>functions, subroutines, modules, programs</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Architecture -->
    <section>
      <h2>Architecture</h2>
      <p class="section-desc">Two crates in a Cargo workspace.</p>

      <div class="terminal">
        <div class="terminal-bar">
          <div class="terminal-dot"></div>
          <div class="terminal-dot"></div>
          <div class="terminal-dot"></div>
          <div class="terminal-title">inspect/crates/</div>
        </div>
        <div class="terminal-body">
<pre><span class="g">inspect-core/</span>   Analysis engine
  <span class="d">classify.rs</span>    ConGra change classification
  <span class="d">risk.rs</span>        Risk scoring (5 signals)
  <span class="d">untangle.rs</span>    Union-Find commit grouping
  <span class="d">analyze.rs</span>     Full-repo entity graph + analysis

<span class="c">inspect-cli/</span>    CLI interface
  <span class="d">diff.rs</span>        inspect diff command
  <span class="d">pr.rs</span>          inspect pr command
  <span class="d">file.rs</span>        inspect file command
  <span class="d">bench.rs</span>       inspect bench command</pre>
        </div>
      </div>

      <p style="font-size: 13px; color: var(--dim); line-height: 1.7;">
        Entity extraction powered by <a href="https://github.com/Ataraxy-Labs/sem" style="color:var(--green)">sem-core</a>. Full-repo entity graph built from all tracked source files via <code style="color:var(--cyan);font-size:12px">git ls-files</code>. Blast radius computed by transitive BFS through the dependency graph.
      </p>
    </section>

    <!-- Part of the stack -->
    <section>
      <h2>Part of the Ataraxy Labs stack</h2>
      <p class="section-desc">Three tools, same foundation: sem-core's entity extraction and structural hashing.</p>

      <div class="phase-cards" style="grid-template-columns: 1fr 1fr 1fr;">
        <div class="phase-card" style="border-color: var(--green);">
          <h3><a href="https://github.com/Ataraxy-Labs/sem" style="color:var(--green)">sem</a></h3>
          <p>Understand code history. What changed, who changed it, what depends on it, what might break.</p>
        </div>
        <div class="phase-card" style="border-color: var(--cyan);">
          <h3><a href="https://github.com/Ataraxy-Labs/weave" style="color:var(--cyan)">weave</a></h3>
          <p>Merge without false conflicts. 31/31 clean merges on concurrent edit scenarios vs Git's 15/31.</p>
        </div>
        <div class="phase-card" style="border-color: var(--orange);">
          <h3>inspect</h3>
          <p>Review what matters. Risk scoring, blast radius, change classification, commit untangling.</p>
        </div>
      </div>
    </section>

    <footer>
      <p>Built by <a href="https://ataraxy-labs.com">Ataraxy Labs</a></p>
    </footer>
  </div>

  <script>
    function copyCmd(el, cmd) {
      navigator.clipboard.writeText(cmd);
      let copied = el.querySelector('.copied');
      if (copied) {
        copied.classList.add('show');
        setTimeout(() => copied.classList.remove('show'), 1500);
      }
    }
  </script>
</body>
</html>
